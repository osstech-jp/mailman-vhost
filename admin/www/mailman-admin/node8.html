<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>2.4 Basic Architectural Overview</title>
<META NAME="description" CONTENT="2.4 Basic Architectural Overview">
<META NAME="keywords" CONTENT="mailman-admin">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="STYLESHEET" href="mailman-admin.css">
<link rel="first" href="mailman-admin.html">
<link rel="contents" href="contents.html" title="Contents">

<LINK REL="previous" HREF="node7.html">
<LINK REL="up" HREF="node4.html">
<LINK REL="next" HREF="node9.html">
</head>
<body>
<DIV CLASS="navigation">
<table align="center" width="100%" cellpadding="0" cellspacing="2">
<tr>
<td><A HREF="node7.html"><img src="../icons/previous.gif"
  border="0" height="32"
  alt="Previous Page" width="32"></A></td>
<td><A HREF="node4.html"><img src="../icons/up.gif"
  border="0" height="32"
  alt="Up One Level" width="32"></A></td>
<td><A HREF="node9.html"><img src="../icons/next.gif"
  border="0" height="32"
  alt="Next Page" width="32"></A></td>
<td align="center" width="100%">GNU Mailman - List Administration Manual</td>
<td><A href="contents.html"><img src="../icons/contents.gif"
  border="0" height="32"
  alt="Contents" width="32"></A></td>
<td><img src="../icons/blank.gif"
  border="0" height="32"
  alt="" width="32"></td>
<td><img src="../icons/blank.gif"
  border="0" height="32"
  alt="" width="32"></td>
</tr></table>
<b class="navlabel">Previous:</b> <a class="sectref" HREF="node7.html">2.3 A List's Web</A>
<b class="navlabel">Up:</b> <a class="sectref" HREF="node4.html">2 Introduction to GNU</A>
<b class="navlabel">Next:</b> <a class="sectref" HREF="node9.html">3 The List Configuration</A>
<br><hr>
</DIV>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION002240000000000000000">
2.4 Basic Architectural Overview</A>
</H2>

<P>
This section will outline the basic architecture of GNU Mailman, such
as how messages are processed by the sytem.  Without going into lots
of detail, this information will help you understand how the
configuration options control Mailman's functionality.

<P>
When mail enters the system from your mail server, it is dropped into
one of several Mailman <i>queues</i> depending on the address the
message was sent to.  For example, if your system has a mailing list
named <var>mylist</var> and your domain is <var>example.com</var>, people can
post messages to your list by sending them to
<var>mylist@example.com</var>.  These messages will be dropped into the
<i>incoming</i> queue, which is also colloquially called the
<i>moderate-and-munge</i> queue.  The incoming queue is where most of
the approval process occurs, and it's also where the message is
prepared for sending out to the list membership.

<P>
There are separate queues for the built-in archiver, the bounce
processor, the email command processor, as well as the outgoing email
and news queues.  There's also a queue for messages generated by the
Mailman system.  Each of these queues typically has one <i>queue
runner</i> (or ``qrunner'') that processes messages in the queue.  The
qrunners are idle when there are no messages to process.

<P>
Every message in the queues are represented by two files, a message
file and a metadata file.  Both of these files share the same base
name, which is a combination of a unique hash and the Unix time that
the message was received.  The metadata file has a suffix of
<span class="file">.db</span> and the message file has a suffix of either <span class="file">.msg</span> if
stored in plain text, or <span class="file">.pck</span> if stored in a more efficient
internal representation<A NAME="tex2html1"
  HREF="#foot41"><SUP>1</SUP></A>.

<P>
As a message moves through the incoming queue, it performs various
checks on the message, such as whether it matches one of the
moderation criteria, or contains disallowed MIME types.  Once a
message is approved for sending to the list membership, the message is
prepared for sending by deleting, adding, or changing message headers,
adding footers, etc.  Messages in the incoming queue may also be
stored for appending to digests.

<P>
<BR><HR><H4>Footnotes</H4>
<DL>
<DT><A NAME="foot41">... representation</A><A
 HREF="node8.html#tex2html1"><SUP>1</SUP></A></DT>
<DD>Specifically, a Python pickle

</DD>
</DL>
<DIV CLASS="navigation">
<p><hr>
<table align="center" width="100%" cellpadding="0" cellspacing="2">
<tr>
<td><A HREF="node7.html"><img src="../icons/previous.gif"
  border="0" height="32"
  alt="Previous Page" width="32"></A></td>
<td><A HREF="node4.html"><img src="../icons/up.gif"
  border="0" height="32"
  alt="Up One Level" width="32"></A></td>
<td><A HREF="node9.html"><img src="../icons/next.gif"
  border="0" height="32"
  alt="Next Page" width="32"></A></td>
<td align="center" width="100%">GNU Mailman - List Administration Manual</td>
<td><A href="contents.html"><img src="../icons/contents.gif"
  border="0" height="32"
  alt="Contents" width="32"></A></td>
<td><img src="../icons/blank.gif"
  border="0" height="32"
  alt="" width="32"></td>
<td><img src="../icons/blank.gif"
  border="0" height="32"
  alt="" width="32"></td>
</tr></table>
<b class="navlabel">Previous:</b> <a class="sectref" HREF="node7.html">2.3 A List's Web</A>
<b class="navlabel">Up:</b> <a class="sectref" HREF="node4.html">2 Introduction to GNU</A>
<b class="navlabel">Next:</b> <a class="sectref" HREF="node9.html">3 The List Configuration</A>
<hr>
<span class="release-info">Release 2.1, documentation updated on October 2, 2004.</span>
</DIV>
<!--End of Navigation Panel-->

</BODY>
</HTML>
